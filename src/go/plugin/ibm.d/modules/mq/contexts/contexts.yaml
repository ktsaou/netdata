
# MQ Module Metric Definitions
# This file defines all metrics collected by the MQ module using PCF protocol

QueueManager:
  labels: []
  contexts:
      - name: Status
        context: mq.qmgr.status
        title: Queue Manager Status
        units: status
        family: queue_manager
        type: line
        priority: 1000
        dimensions:
          - { name: status, algo: absolute }
      - name: QueuesOverview
        context: mq.queues.overview
        title: Queues Monitoring Status
        units: queues
        family: overview
        type: stacked
        priority: 1100
        dimensions:
          - { name: monitored, algo: absolute }
          - { name: excluded, algo: absolute }
          - { name: model, algo: absolute }
          - { name: unauthorized, algo: absolute }
          - { name: unknown, algo: absolute }
          - { name: failed, algo: absolute }
      - name: ChannelsOverview
        context: mq.channels.overview
        title: Channels Monitoring Status
        units: channels
        family: overview
        type: stacked
        priority: 1101
        dimensions:
          - { name: monitored, algo: absolute }
          - { name: excluded, algo: absolute }
          - { name: unauthorized, algo: absolute }
          - { name: failed, algo: absolute }
      - name: TopicsOverview
        context: mq.topics.overview
        title: Topics Monitoring Status
        units: topics
        family: overview
        type: stacked
        priority: 1102
        dimensions:
          - { name: monitored, algo: absolute }
          - { name: excluded, algo: absolute }
          - { name: unauthorized, algo: absolute }
          - { name: failed, algo: absolute }

Queue:
  labels:
    - queue
    - type
  contexts:
      - name: Depth
        context: mq.queue.depth
        title: Queue Depth
        units: messages
        family: queues
        type: line
        priority: 2000
        dimensions:
          - { name: current, algo: absolute }
          - { name: max, algo: absolute }
      - name: Messages
        context: mq.queue.messages
        title: Queue Messages
        units: messages/s
        family: queues
        type: line
        priority: 2001
        dimensions:
          - { name: enqueued, algo: incremental }
          - { name: dequeued, algo: incremental }
      - name: Connections
        context: mq.queue.connections
        title: Queue Connections
        units: connections
        family: queues
        type: line
        priority: 2002
        dimensions:
          - { name: input, algo: absolute }
          - { name: output, algo: absolute }
      - name: HighDepth
        context: mq.queue.high_depth
        title: Queue Peak Depth
        units: messages
        family: queues
        type: line
        priority: 2003
        dimensions:
          - { name: high_depth, algo: absolute }
      - name: OldestMessageAge
        context: mq.queue.oldest_msg_age
        title: Queue Oldest Message Age
        units: seconds
        family: queues
        type: line
        priority: 2004
        dimensions:
          - { name: oldest_msg_age, algo: absolute }
      - name: InhibitStatus
        context: mq.queue.inhibit_status
        title: Queue Inhibit Status
        units: status
        family: queues
        type: line
        priority: 2005
        dimensions:
          - { name: inhibit_get, algo: absolute }
          - { name: inhibit_put, algo: absolute }
      - name: Priority
        context: mq.queue.priority
        title: Queue Priority Configuration
        units: priority
        family: queues
        type: line
        priority: 2006
        dimensions:
          - { name: def_priority, algo: absolute }
      - name: Triggers
        context: mq.queue.triggers
        title: Queue Trigger Configuration
        units: messages
        family: queues
        type: line
        priority: 2007
        dimensions:
          - { name: trigger_depth, algo: absolute }
          - { name: trigger_type, algo: absolute }
      - name: BackoutThreshold
        context: mq.queue.backout_threshold
        title: Queue Error Handling
        units: retries
        family: queues
        type: line
        priority: 2008
        dimensions:
          - { name: backout_threshold, algo: absolute }
      - name: MaxMessageLength
        context: mq.queue.max_msg_length
        title: Queue Max Message Length
        units: bytes
        family: queues
        type: line
        priority: 2009
        dimensions:
          - { name: max_msg_length, algo: absolute }

Channel:
  labels:
    - channel
  contexts:
      - name: Status
        context: mq.channel.status
        title: Channel Status
        units: status
        family: channels
        type: stacked
        priority: 3000
        dimensions:
          - { name: inactive, algo: absolute }
          - { name: binding, algo: absolute }
          - { name: starting, algo: absolute }
          - { name: running, algo: absolute }
          - { name: stopping, algo: absolute }
          - { name: retrying, algo: absolute }
          - { name: stopped, algo: absolute }
          - { name: requesting, algo: absolute }
          - { name: paused, algo: absolute }
          - { name: disconnected, algo: absolute }
          - { name: initializing, algo: absolute }
          - { name: switching, algo: absolute }
      - name: Messages
        context: mq.channel.messages
        title: Channel Message Rate
        units: messages/s
        family: channels
        type: line
        priority: 3001
        dimensions:
          - { name: messages, algo: incremental }
      - name: Bytes
        context: mq.channel.bytes
        title: Channel Data Transfer Rate
        units: bytes/s
        family: channels
        type: line
        priority: 3002
        dimensions:
          - { name: bytes, algo: incremental }
      - name: Batches
        context: mq.channel.batches
        title: Channel Batch Rate
        units: batches/s
        family: channels
        type: line
        priority: 3003
        dimensions:
          - { name: batches, algo: incremental }
      - name: BatchConfig
        context: mq.channel.batch_config
        title: Channel Batch Configuration
        units: value
        family: channels
        type: line
        priority: 3004
        dimensions:
          - { name: batch_size, algo: absolute }
          - { name: batch_interval, algo: absolute }
      - name: Intervals
        context: mq.channel.intervals
        title: Channel Intervals
        units: seconds
        family: channels
        type: line
        priority: 3005
        dimensions:
          - { name: disc_interval, algo: absolute }
          - { name: hb_interval, algo: absolute }
          - { name: keep_alive_interval, algo: absolute }
      - name: RetryConfig
        context: mq.channel.retry_config
        title: Channel Retry Configuration
        units: count
        family: channels
        type: line
        priority: 3006
        dimensions:
          - { name: short_retry, algo: absolute }
          - { name: long_retry, algo: absolute }
      - name: MaxMessageLength
        context: mq.channel.max_msg_length
        title: Channel Max Message Length
        units: bytes
        family: channels
        type: line
        priority: 3007
        dimensions:
          - { name: max_msg_length, algo: absolute }
      - name: ConversationConfig
        context: mq.channel.conversation_config
        title: Channel Conversation Configuration
        units: value
        family: channels
        type: line
        priority: 3008
        dimensions:
          - { name: sharing_conversations, algo: absolute }
          - { name: network_priority, algo: absolute }

Topic:
  labels:
    - topic
  contexts:
      - name: Publishers
        context: mq.topic.publishers
        title: Topic Publishers
        units: publishers
        family: topics
        type: line
        priority: 4000
        dimensions:
          - { name: publishers, algo: absolute }
      - name: Subscribers
        context: mq.topic.subscribers
        title: Topic Subscribers
        units: subscribers
        family: topics
        type: line
        priority: 4001
        dimensions:
          - { name: subscribers, algo: absolute }
      - name: Messages
        context: mq.topic.messages
        title: Topic Message Rate
        units: messages/s
        family: topics
        type: line
        priority: 4002
        dimensions:
          - { name: messages, algo: incremental }
