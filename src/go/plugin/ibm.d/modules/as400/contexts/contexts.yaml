# AS400 Module Metric Definitions
# Generated from legacy collector charts; maintain parity with existing metrics.

System:
  labels: []
  contexts:
    - name: CPUUtilization
      context: as400.cpu_utilization
      title: CPU Utilization
      family: cpu
      units: percentage
      type: line
      priority: 1000
      dimensions:
        - {name: utilization, algo: absolute, div: 1000}

    - name: CPUDetails
      context: as400.cpu_configuration
      title: CPU Configuration
      family: cpu
      units: cpus
      type: line
      priority: 1010
      dimensions:
        - {name: configured, algo: absolute}

    - name: CPUCapacity
      context: as400.cpu_capacity
      title: Current CPU Capacity
      family: cpu
      units: percentage
      type: line
      priority: 1020
      dimensions:
        - {name: capacity, algo: absolute, div: 1000}

    - name: TotalJobs
      context: as400.total_jobs
      title: Total Jobs in System
      family: jobs
      units: jobs
      type: line
      priority: 1100
      dimensions:
        - {name: total, algo: absolute}

    - name: ActiveJobsByType
      context: as400.active_jobs_by_type
      title: Active Jobs by Type
      family: jobs
      units: jobs
      type: stacked
      priority: 1110
      dimensions:
        - {name: batch, algo: absolute}
        - {name: interactive, algo: absolute}
        - {name: active, algo: absolute}

    - name: JobQueueLength
      context: as400.job_queue_length
      title: Job Queue Length
      family: jobs
      units: jobs
      type: line
      priority: 1120
      dimensions:
        - {name: waiting, algo: absolute}

    - name: MainStorageSize
      context: as400.main_storage_size
      title: Main Storage Size
      family: memory
      units: KiB
      type: line
      priority: 1200
      dimensions:
        - {name: total, algo: absolute}

    - name: TemporaryStorage
      context: as400.temporary_storage
      title: Temporary Storage
      family: memory
      units: MiB
      type: line
      priority: 1210
      dimensions:
        - {name: current, algo: absolute}
        - {name: maximum, algo: absolute}

    - name: MemoryPoolUsage
      context: as400.memory_pool_usage
      title: Memory Pool Usage
      family: memory
      units: bytes
      type: stacked
      priority: 1220
      dimensions:
        - {name: machine, algo: absolute}
        - {name: base, algo: absolute}
        - {name: interactive, algo: absolute}
        - {name: spool, algo: absolute}

    - name: MemoryPoolDefined
      context: as400.memory_pool_defined
      title: Memory Pool Defined Size
      family: memory
      units: bytes
      type: stacked
      priority: 1230
      dimensions:
        - {name: machine, algo: absolute}
        - {name: base, algo: absolute}

    - name: MemoryPoolReserved
      context: as400.memory_pool_reserved
      title: Memory Pool Reserved Size
      family: memory
      units: bytes
      type: stacked
      priority: 1240
      dimensions:
        - {name: machine, algo: absolute}
        - {name: base, algo: absolute}

    - name: MemoryPoolThreads
      context: as400.memory_pool_threads
      title: Memory Pool Threads
      family: memory
      units: threads
      type: line
      priority: 1250
      dimensions:
        - {name: machine, algo: absolute}
        - {name: base, algo: absolute}

    - name: MemoryPoolMaxThreads
      context: as400.memory_pool_max_threads
      title: Memory Pool Maximum Threads
      family: memory
      units: threads
      type: line
      priority: 1260
      dimensions:
        - {name: machine, algo: absolute}
        - {name: base, algo: absolute}

    - name: DiskBusyAverage
      context: as400.disk_busy_average
      title: Average Disk Busy Percentage
      family: disk_aggregate
      units: percentage
      type: line
      priority: 1300
      dimensions:
        - {name: busy, algo: absolute, div: 1000}

    - name: SystemASPUsage
      context: as400.system_asp_usage
      title: System ASP Usage
      family: storage
      units: percentage
      type: line
      priority: 1310
      dimensions:
        - {name: used, algo: absolute, div: 1000}

    - name: SystemASPStorage
      context: as400.system_asp_storage
      title: System ASP Storage
      family: storage
      units: MiB
      type: line
      priority: 1320
      dimensions:
        - {name: total, algo: absolute}

    - name: TotalAuxiliaryStorage
      context: as400.total_auxiliary_storage
      title: Total Auxiliary Storage
      family: storage
      units: MiB
      type: line
      priority: 1330
      dimensions:
        - {name: total, algo: absolute}

    - name: SystemThreads
      context: as400.system_threads
      title: System Threads
      family: threads
      units: threads
      type: line
      priority: 1400
      dimensions:
        - {name: active, algo: absolute}
        - {name: per_processor, algo: absolute}

    - name: NetworkConnections
      context: as400.network_connections
      title: Network Connections
      family: network
      units: connections
      type: line
      priority: 1500
      dimensions:
        - {name: remote, algo: absolute}
        - {name: total, algo: absolute}

    - name: NetworkConnectionStates
      context: as400.network_connection_states
      title: Network Connection States
      family: network
      units: connections
      type: line
      priority: 1510
      dimensions:
        - {name: listen, algo: absolute}
        - {name: close_wait, algo: absolute}

    - name: TempStorageTotal
      context: as400.temp_storage_total
      title: Temporary Storage Total
      family: temp_storage_total
      units: bytes
      type: line
      priority: 1600
      dimensions:
        - {name: current, algo: absolute}
        - {name: peak, algo: absolute}

    - name: SystemActivityCPURate
      context: as400.system_activity_cpu_rate
      title: System CPU Rate
      family: system_activity
      units: percentage
      type: line
      priority: 1700
      dimensions:
        - {name: average, algo: absolute, div: 1000}

    - name: SystemActivityCPUUtilization
      context: as400.system_activity_cpu_utilization
      title: System CPU Utilization
      family: system_activity
      units: percentage
      type: line
      priority: 1710
      dimensions:
        - {name: average, algo: absolute, div: 1000}
        - {name: minimum, algo: absolute, div: 1000}
        - {name: maximum, algo: absolute, div: 1000}

Disk:
  labels:
    - disk_unit
    - disk_type
    - disk_model
    - hardware_status
    - disk_serial_number
  contexts:
    - name: Busy
      context: as400.disk_busy
      title: Disk Busy Percentage
      family: disk
      units: percentage
      type: line
      priority: 2000
      dimensions:
        - {name: busy, algo: absolute, div: 1000}

    - name: IORequests
      context: as400.disk_io_requests
      title: Disk I/O Requests
      family: disk
      units: requests/s
      type: area
      priority: 2001
      dimensions:
        - {name: read, algo: incremental}
        - {name: write, algo: incremental, mul: -1}

    - name: SpaceUsage
      context: as400.disk_space_usage
      title: Disk Space Usage
      family: disk
      units: percentage
      type: line
      priority: 2002
      dimensions:
        - {name: used, algo: absolute, div: 1000}

    - name: Capacity
      context: as400.disk_capacity
      title: Disk Capacity
      family: disk
      units: gigabytes
      type: stacked
      priority: 2003
      dimensions:
        - {name: available, algo: absolute, div: 1000}
        - {name: used, algo: absolute, div: 1000}

    - name: Blocks
      context: as400.disk_blocks
      title: Disk Block Operations
      family: disk
      units: blocks/s
      type: area
      priority: 2004
      dimensions:
        - {name: read, algo: incremental}
        - {name: write, algo: incremental, mul: -1}

    - name: SSDHealth
      context: as400.disk_ssd_health
      title: Disk SSD Health
      family: disk
      units: percentage
      type: line
      priority: 2005
      dimensions:
        - {name: life_remaining, algo: absolute}

    - name: SSDPowerOn
      context: as400.disk_ssd_age
      title: Disk SSD Power On Days
      family: disk
      units: days
      type: line
      priority: 2006
      dimensions:
        - {name: power_on_days, algo: absolute}

Subsystem:
  labels:
    - subsystem
    - library
    - status
  contexts:
    - name: Jobs
      context: as400.subsystem_jobs
      title: Subsystem Jobs
      family: subsystem
      units: jobs
      type: line
      priority: 2100
      dimensions:
        - {name: active, algo: absolute}
        - {name: maximum, algo: absolute}

JobQueue:
  labels:
    - job_queue
    - library
    - status
  contexts:
    - name: Length
      context: as400.jobqueue_length
      title: Job Queue Length
      family: jobqueue
      units: jobs
      type: line
      priority: 2200
      dimensions:
        - {name: jobs, algo: absolute}

TempStorageBucket:
  labels:
    - bucket
  contexts:
    - name: Usage
      context: as400.temp_storage_bucket
      title: Temporary Storage Bucket Usage
      family: temp_storage_buckets
      units: bytes
      type: line
      priority: 2300
      dimensions:
        - {name: current, algo: absolute}
        - {name: peak, algo: absolute}

ActiveJob:
  labels:
    - job_name
    - job_status
    - subsystem
    - job_type
  contexts:
    - name: CPU
      context: as400.activejob_cpu
      title: Active Job CPU Usage
      family: activejobs
      units: percentage
      type: line
      priority: 2400
      dimensions:
        - {name: cpu, algo: absolute, div: 1000}

    - name: Resources
      context: as400.activejob_resources
      title: Active Job Resources
      family: activejobs
      units: MiB
      type: stacked
      priority: 2401
      dimensions:
        - {name: temp_storage, algo: absolute}

    - name: Time
      context: as400.activejob_time
      title: Active Job Elapsed Time
      family: activejobs
      units: seconds
      type: line
      priority: 2402
      dimensions:
        - {name: cpu_time, algo: absolute}
        - {name: total_time, algo: absolute}

    - name: Activity
      context: as400.activejob_activity
      title: Active Job Activity
      family: activejobs
      units: operations/s
      type: area
      priority: 2403
      dimensions:
        - {name: disk_io, algo: incremental}
        - {name: interactive_transactions, algo: incremental, mul: -1}

    - name: Threads
      context: as400.activejob_threads
      title: Active Job Thread Count
      family: activejobs
      units: threads
      type: line
      priority: 2404
      dimensions:
        - {name: threads, algo: absolute}

NetworkInterface:
  labels:
    - interface
    - interface_type
    - connection_type
    - internet_address
    - network_address
    - subnet_mask
  contexts:
    - name: Status
      context: as400.network_interface_status
      title: Network Interface Status
      family: network_interfaces
      units: status
      type: line
      priority: 2500
      dimensions:
        - {name: active, algo: absolute}

    - name: MTU
      context: as400.network_interface_mtu
      title: Network Interface MTU
      family: network_interfaces
      units: bytes
      type: line
      priority: 2501
      dimensions:
        - {name: mtu, algo: absolute}
